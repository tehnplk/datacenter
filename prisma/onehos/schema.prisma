generator client {
  provider = "prisma-client-js"
  output   = "../../src/generated/onehos"
}

datasource db {
  provider = "postgresql"
}

model Hospital {
  id        Int      @id @default(autoincrement())
  hoscode   String   @unique @db.VarChar(5)
  hosname   String   @db.VarChar(200)
  hostype   String?  @db.VarChar(2)
  orgtype   String?  @db.VarChar(2)
  tmb       String?  @db.VarChar(6)
  amp       String?  @db.VarChar(4)
  prov      String?  @db.VarChar(2)
  activated Boolean  @default(true)

  @@map("c_hospital")
}

model DrgsSum {
  id        Int      @id @default(autoincrement())
  hoscode   String   @db.VarChar(5)
  hosname   String   @db.VarChar(200)
  year      Int
  mon       Int
  ipdCase   Int      @default(0) @map("ipd_case")
  sumAdjrw  Float    @map("sum_adjrw")
  cmi       Float
  updatedAt DateTime? @map("updated_at")

  @@map("drgs_sum")
}

model DrgsRwTop {
  id        Int       @id @default(autoincrement())
  hoscode   String    @db.VarChar(5)
  hosname   String    @db.VarChar(200)
  year      Int
  mon       Int
  drgsCode  String    @map("drgs_code") @db.VarChar(10)
  drgName   String    @map("drg_name") @db.VarChar(255)
  adjRw     Float     @map("adj_rw")
  updatedAt DateTime? @map("updated_at")

  @@map("drgs_rw_top")
}

model RawData {
  id        String   @id @default(uuid()) @db.Uuid
  payload   Json
  updatedAt DateTime @default(now()) @map("updated_at")
  tranformDatetime DateTime? @map("tranform_datetime") @db.Timestamptz

  @@map("raw_data")
}
